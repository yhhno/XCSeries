一：使用队列的好处

1. 削峰

  队列就是三峡，三峡可以拦截上游凶猛的洪水，否则下游年年洪灾。

  所以队列的好处就是可以有效避免底层系统被流量冲垮。。。

2. 同步架构异步化【解耦】
  
  上游和下游的依赖关系被拆解，上游不知道下游是谁，下游也不知道上游是谁，大家之和三峡发生关系，
  
  所以队列可以让系统模块化，有利于横向扩容。

3. 并发请求串行化【无锁模式】

  既然是队列，也就是FIFO，先行先出，也就不存在锁机制的问题了。

4. 提高系统稳定性

   下游宕机挂掉，不影响上游业务，因为大家解耦了，比如淘宝下单，与物流公司对接平台挂了，大家就不相互影响。

二：MSMQ是什么东西：

1. 它是一个windows自带的消息队列。

2. 它是基于硬盘的。。

3. 基于单机的。。。无集群【高可用，可并发】

以上三点，就决定是一个很low的东西。。。【90年代】

给人感觉，wcf还是保留在2000年代 状态。。。


三：WCF模式下的消息队列

1. WCF目前只支持自家的MSMQ。。。这也是我认为WCF团队最不给力的一个地方，居然没有开发对接第三方的消息队列组件，

   比如支持ActiveMQ，ZeroMQ，Kafka，Redis。唯一一个由RabbitMQ自家的WCF Binding,也放弃更新了。

如果你是企业网的开发。。。OA，ERP。。。可以适量使用。。。

2.  这种90年代的单机版硬盘化的MSMQ，现实场景比较小，小系统还可以接受。大家主要理解这种MQ思想。

net.msmq://localhost/private/ctrip 【ctrip=>队列名，【其他是默认格式】】

 <endpoint address="net.msmq://localhost/private/myqueue" bindingConfiguration="myMsmqBinding"
           binding="netMsmqBinding" contract="WcfService.IHomeService">


netMsMQBinding 必须要是 操作契约是 IsOneWay模式


3. 在线模式 、 离线模式

MSMQ的一个Message是4M的限制。。。


大家一定要理解MQ的思想，在互联网开发中特别重要。。。